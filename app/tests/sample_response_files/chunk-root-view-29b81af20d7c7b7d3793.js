webpackJsonp([1],{1108:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AppView=void 0;var i=n(5),a=o(i),l=n(1),u=o(l),r=n(2),s=o(r),d=n(7),c=o(d),p=n(6),f=o(p),h=n(0),m=o(h),y=n(15),v=n(1395),b=o(v),g=n(1504),P=o(g),_=n(1497),T=o(_),C=n(1498),k=o(C),E=n(1509),M=o(E),A=n(485),w=o(A),R=n(490),S=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,R.applicationModeApp)())}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,R.applicationModeReset)())}},{key:"renderBlurHack",value:function(){var e={position:"absolute",bottom:0,right:0,height:0,visibility:"hidden"};return m.default.createElement("input",{id:"blur-hack",type:"text",style:e})}},{key:"render",value:function(){var e=this.props.params;return m.default.createElement(b.default,{className:"AppView"},m.default.createElement(P.default,{params:e}),this.props.children,this.renderBlurHack(),m.default.createElement(T.default,null),m.default.createElement(k.default,null),m.default.createElement(M.default,null),m.default.createElement(w.default,{params:e}),m.default.createElement("script",{type:"text/javascript",src:"https://platform.twitter.com/widgets.js"}))}}]),t}(m.default.Component);S.propTypes={children:m.default.PropTypes.object,dispatch:m.default.PropTypes.func.isRequired,params:m.default.PropTypes.object},t.AppView=S,t.default=(0,y.connect)()(S)},1111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.ACCOUNT_DEVELOPER_PATH,getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1490).default)}.bind(null,n)).catch(n.oe)}}},1112:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(45),a=n(57),l=o(a);t.default={path:i.ACCOUNT_PRODUCER_PATH,getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1491).default)}.bind(null,n)).catch(n.oe)},onEnter:function(e,t){l.default.isDisabled("Producer")&&t({nextPathname:e.location.pathname},i.HOME_PATH)}}},1113:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(45),a=n(57),l=o(a);t.default={path:i.ACCOUNT_SETTINGS_PATH,getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1492).default)}.bind(null,n)).catch(n.oe)},onEnter:function(e,t){l.default.isDisabled("AccountSettings")&&t({nextPathname:e.location.pathname},i.HOME_PATH)}}},1114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.ACCOUNT_STATS_PATH,getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1493).default)}.bind(null,n)).catch(n.oe)}}},1115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1439);t.default={path:o.BAN_PAGE_ROUTE,getComponent:function(e,t){n.e(108).then(function(e){t(null,n(1563).default)}.bind(null,n)).catch(n.oe)}}},1116:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),a=o(i);t.default={path:"/:username/:broadcastId",onEnter:function(e,t){e.params&&(a.default.isServer()&&a.default.mobile()&&"w"!==e.params.username&&t({pathname:"/w/"+e.params.broadcastId}),"w"===e.params.username&&delete e.params.username)},getComponent:function(e,t){n.e(104).then(function(e){t(null,n(1397).default)}.bind(null,n)).catch(n.oe)}}},1118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.DISCOVER_LEGACY_PATH+"/:channelName",onEnter:function(e,t){var n=e.location,i=e.params,a=i.channelName;t({nextPathname:n.pathname},o.CHANNELS_PATH+"/"+a.toLowerCase())}}},1119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.CHANNELS_PATH+"(/:channelName)",getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1494).default)}.bind(null,n)).catch(n.oe)},onEnter:function(e,t){var n=e.location,i=e.params,a=i.channelName;a||t({nextPathname:e.location.pathname},o.DISCOVER_PATH),a&&a.toLowerCase()!==a&&t({nextPathname:n.pathname},o.CHANNELS_PATH+"/"+a.toLowerCase())}}},1120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"/couchmode",getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1495).default)}.bind(null,n)).catch(n.oe)}}},1121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.DISCOVER_LEGACY_PATH,onEnter:function(e,t){t({nextPathname:e.location.pathname},o.DISCOVER_PATH)}}},1122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1496).default)}.bind(null,n)).catch(n.oe)}}},1123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.HARDWARE_AUTH_PATH,getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1499).default)}.bind(null,n)).catch(n.oe)}}},1124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.OAUTH_AUTH_PATH,getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1500).default)}.bind(null,n)).catch(n.oe)}}},1125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.PARTNERS_PATH,getComponent:function(e,t){n.e(107).then(function(e){t(null,n(1559).default)}.bind(null,n)).catch(n.oe)}}},1126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.SPARKLE.PLUS_APPLY_PATH,getComponent:function(e,t){n.e(100).then(function(e){t(null,n(1555).default)}.bind(null,n)).catch(n.oe)}}},1127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.SPARKLE.PLUS_SETTINGS_PATH,getComponent:function(e,t){n.e(100).then(function(e){t(null,n(1557).default)}.bind(null,n)).catch(n.oe)}}},1128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),i=n(27);t.default={path:o.SEARCH_PATH,getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1501).default)}.bind(null,n)).catch(n.oe)},onEnter:function(e,t){e.location.query[i.SEARCH]||t({nextPathname:e.location.pathname},o.DISCOVER_PATH)}}},1129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.SPARKLE.SPARKLE_GUIDELINES_PATH,getComponent:function(e,t){n.e(105).then(function(e){t(null,n(1560).default)}.bind(null,n)).catch(n.oe)}}},1130:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(485),a=n(16),l=o(a);t.default={path:"/:username/follow",onEnter:function(e){e.params[i.UserFollowParam]=!0},getComponent:function(e,t){n.e(99).then(function(e){var o=void 0;o=l.default.mobile()?n(1503).default:n(1432).default,t(null,o)}.bind(null,n)).catch(n.oe)}}},1131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"/:username",getComponent:function(e,t){n.e(99).then(function(e){t(null,n(1432).default)}.bind(null,n)).catch(n.oe)}}},1132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.default={path:o.VIP_PATH,getComponent:function(e,t){n.e(106).then(function(e){t(null,n(1561).default)}.bind(null,n)).catch(n.oe)}}},1333:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),a=o(i),l=n(4),u=o(l),r=n(5),s=o(r),d=n(1),c=o(d),p=n(2),f=o(p),h=n(7),m=o(h),y=n(6),v=o(y),b=n(0),g=o(b),P=n(186),_=n(179),T=o(_),C=n(467),k=n(177),E=o(k),M=n(122),A={marginBottom:-800,opacity:0},w={marginBottom:0,opacity:1},R={marginBottom:(0,P.spring)(-400),opacity:(0,P.spring)(0)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stiffness:190,damping:19};return{marginBottom:(0,P.spring)(w.marginBottom,e),opacity:(0,P.spring)(w.opacity)}},H={opacity:0},O={opacity:(0,P.spring)(0)},N={opacity:(0,P.spring)(.7)},L={opacity:(0,P.spring)(.95)},B={opacity:(0,P.spring)(.95)},D={key:"modal"},x={key:"background"},j=function(e){function t(e){(0,c.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.interactionHandle=null,n.getEnterStyle=n.getEnterStyle.bind(n),n.getHiddenStyle=n.getHiddenStyle.bind(n),n.dismissByKeyPress=n.dismissByKeyPress.bind(n),n.finishInteractionHandle=n.finishInteractionHandle.bind(n),n}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.dismissByKeyPress)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("keydown",this.dismissByKeyPress)}},{key:"startInteractionHandle",value:function(e){if(!this.interactionHandle){var t=(0,M.getDisplayName)(this.props.modal.component);this.interactionHandle=T.default.createInteraction(t+"-"+(e?"enter":"exit"))}}},{key:"finishInteractionHandle",value:function(){this.interactionHandle&&(this.interactionHandle.done(),this.interactionHandle=null)}},{key:"dismissByKeyPress",value:function(e){e.keyCode===E.default.ESC&&this.props.dispatchHideModal("key-press-esc")}},{key:"handleDismiss",value:function(e){var t=this;return function(){var n=t.props.overrides;return n.handleDismiss?n.handleDismiss(e):void t.props.dispatchHideModal(e)}}},{key:"getHiddenStyle",value:function(e){var t=e.key;switch(t){case D.key:return this.startInteractionHandle(!1),R;case x.key:return this.startInteractionHandle(!1),O}}},{key:"getEnterStyle",value:function(e){var t=e.key;switch(t){case D.key:return this.startInteractionHandle(!0),A;case x.key:return this.startInteractionHandle(!0),H}}},{key:"getBgOpacity",value:function(){var e=this.props.modal;return e.options.useLightBackground?L:e.options.useBlueBackground?B:N}},{key:"getVisibleStyles",value:function(){var e=this.props.modal;return e.visible?[(0,u.default)({},D,{style:S(e.options.springConfig)}),(0,u.default)({},x,{style:this.getBgOpacity()})]:[]}},{key:"render",value:function(){return g.default.createElement(P.TransitionMotion,{styles:this.getVisibleStyles(),willEnter:this.getEnterStyle,willLeave:this.getHiddenStyle,didLeave:this.finishInteractionHandle},this.renderInterpolatedStyles())}},{key:"renderInterpolatedStyles",value:function(){var e=this,t=this.props.modal.options,n=t.disableStyles,o=t.disableDismissButton,i=t.customClassName,l=t.useLightBackground,u=t.useBlueBackground,r=["Modal-content","u-flexItem"],s=["Modal-dismiss"],d=["Modal-background"];return n||(r.push("Modal-style"),s.push("Modal-style")),i&&r.push(i),l?d.push("Modal-background--light"):u&&d.push("Modal-background--blue"),this.props.broadcastSidebar.visible&&r.push("Modal--withSidebar"),function(t){var n=(0,a.default)(t,2),i=n[0],l=n[1];return i&&l?(i.style.opacity===w.opacity&&e.finishInteractionHandle(),g.default.createElement("div",{className:"Modal u-fullHeight u-flexParent"},g.default.createElement("div",{className:r.join(" "),style:{marginBottom:Math.round(i.style.marginBottom)+"px",opacity:i.style.opacity}},g.default.createElement("div",{className:"Modal-component"},e.possiblyRenderChild(),o?null:g.default.createElement("div",{className:s.join(" "),onClick:e.handleDismiss("modal-button-click")}))),g.default.createElement("div",{className:d.join(" "),style:l.style,onClick:e.handleDismiss("modal-background-click")}))):null}}},{key:"possiblyRenderChild",value:function(){return this.props.modal.component?g.default.createElement(this.props.modal.component,(0,u.default)({},this.props.modal.componentProps,{dismiss:this.handleDismiss("modal-content"),dispatch:this.props.dispatch,isVisible:this.props.modal.visible})):null}}]),t}(g.default.Component);t.default=j,j.defaultProps={overrides:{}},j.propTypes={dispatch:g.default.PropTypes.func.isRequired,dispatchHideModal:g.default.PropTypes.func.isRequired,modal:g.default.PropTypes.object.isRequired,overrides:g.default.PropTypes.object,broadcastSidebar:C.broadcastSidebarPropType}},1395:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageView=void 0;var i=n(5),a=o(i),l=n(1),u=o(l),r=n(2),s=o(r),d=n(7),c=o(d),p=n(6),f=o(p),h=n(0),m=o(h),y=n(469),v=o(y),b=n(15),g=n(1425),P=o(g),_=n(490),T=n(67),C=o(T),k=n(1401),E=o(k),M=n(1411),A=o(M),w=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.updateDimensions=(0,P.default)(n.updateDimensions.bind(n),250),n}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.onresize=this.updateDimensions}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&(window.onresize=null)}},{key:"updateDimensions",value:function(){this.props.dispatch((0,_.layoutSet)(A.default.getLayout())),this.props.dispatch((0,_.dimensionsSet)({height:window.innerHeight,width:window.innerWidth}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.dimensions,o={};return n?o.height=n.height:o.height="100vh",m.default.createElement("div",{id:"PageView",className:this.props.className,style:o},m.default.createElement(E.default,null),m.default.createElement(v.default,{title:""}),t)}}]),t}(m.default.Component);w.propTypes={children:m.default.PropTypes.node,className:m.default.PropTypes.string,dispatch:m.default.PropTypes.func,dimensions:m.default.PropTypes.object},t.PageView=w,t.default=(0,b.connect)((0,C.default)(["dimensions"]))(w)},1401:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i),l=n(1),u=o(l),r=n(2),s=o(r),d=n(7),c=o(d),p=n(6),f=o(p),h=n(0),m=o(h),y=n(15),v=n(35),b=n(24),g=n(12),P=new g.FileDebugger("Tracker",!0),_=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.unlistenRouter=null,n}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.ensureRouterListener()}},{key:"componentWillReceiveProps",value:function(){this.ensureRouterListener()}},{key:"componentWillUnmount",value:function(){this.removeRouterListener()}},{key:"ensureRouterListener",value:function(){var e=this;if(!this.unlistenRouter){this.removeRouterListener();var t=this.props.router;t&&(this.unlistenRouter=t.listen(function(t){"PUSH"===t.action&&(P.debug("pathname",""+t.pathname+t.search),e.props.dispatch((0,b.trackEvent)(b.PAGE_VIEW_ACTION,{location:t})))}))}}},{key:"removeRouterListener",value:function(){this.unlistenRouter&&this.unlistenRouter()}},{key:"render",value:function(){return null}}]),t}(m.default.Component);_.propTypes={router:v.routerShape,dispatch:m.default.PropTypes.func},t.default=(0,v.withRouter)((0,y.connect)()(_))},1411:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),a=o(i),l=n(496),u=l.DESKTOP,r=a.default.isServer(),s=void 0;s=r?{getLayout:function(){return u}}:function(){var e=function(){if(r)return u;var e=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content");return e&&"string"==typeof e?(e=e.replace(/\"/g,""),e?e:u):u};return{getLayout:e}}(),t.default=s},1425:function(e,t,n){function o(e,t,n){var o=!0,u=!0;if("function"!=typeof e)throw new TypeError(l);return a(n)&&(o="leading"in n?!!n.leading:o,u="trailing"in n?!!n.trailing:u),i(e,t,{leading:o,maxWait:t,trailing:u})}var i=n(466),a=n(37),l="Expected a function";e.exports=o},1439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BAN_PARAM_TO_REASON=t.BAN_REASON_PATH=t.BAN_PAGE_ROUTE=t.CARD_ROUTE=void 0;var o=n(9),i=(t.CARD_ROUTE="/w/:broadcastId/"+o.PathVariants.TWITTER_CARD_PARAM,t.BAN_PAGE_ROUTE="/help/banning/:banReason",t.BAN_REASON_PATH={SELF_HARM:"selfHarm",DEACTIVATE_ACCOUNT:"deactivateAccount",SPAM:"spam",DMCA:"dmca",DMCA_UNBAN:"dmcaUnban",DMCA_PERMANENT:"dmcaPermanent",PRODUCER_VIOLATION:"producerViolation"});t.BAN_PARAM_TO_REASON={"self-harm":i.SELF_HARM,"deactivate-account":i.DEACTIVATE_ACCOUNT,spam:i.SPAM,dmca:i.DMCA,"dmca-unban":i.DMCA_UNBAN,"dmca-permanent":i.DMCA_PERMANENT,"producer-violation":i.PRODUCER_VIOLATION}},1497:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i),l=n(0),u=o(l),r=n(15),s=n(21),d=n(67),c=o(d),p=n(462),f=n(1333),h=o(f),m=n(464),y=n(467),v=function(e){return u.default.createElement(h.default,(0,a.default)({},e,{modal:(0,a.default)({},e.modal,{visible:e.modal.visible&&e.modal.options.isGlobal})}))};v.propTypes={dispatch:u.default.PropTypes.func.isRequired,modal:m.modalPropType.isRequired,broadcastSidebar:y.broadcastSidebarPropType},v.defaultProps={modal:m.modalDefaultProps},t.default=(0,r.connect)((0,s.compose)(p.modalStateToProps,(0,c.default)(["broadcastSidebar"])),p.modalDispatchToProps)(v)},1498:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=o(i),l=n(15),u=n(1533),r=o(u),s=n(67),d=o(s),c=function(e){return a.default.createElement(r.default,e)};c.propTypes={dispatch:a.default.PropTypes.func.isRequired,globalTooltip:a.default.PropTypes.object.isRequired},c.defaultProps={},t.default=(0,l.connect)((0,d.default)(["globalTooltip"]))(c)},1504:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i),l=n(1),u=o(l),r=n(2),s=o(r),d=n(7),c=o(d),p=n(6),f=o(p),h=n(0),m=o(h),y=n(26),v=n(36),b=n(15),g=n(554),P=o(g),_=n(126),T=o(_),C=n(47),k=n(307),E=n(567),M=n(21),A=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"handleAuthChange",value:function(e,t){var n=this.props.api;e.authStateChanged(t)&&(t.isLoggedIn&&(0,k.fetchBlockedUsers)(n),(0,E.fetchHello)(n))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.auth,n=e.api;t.isLoggedIn&&((0,k.fetchBlockedUsers)(n),(0,E.fetchHello)(n))}},{key:"componentWillReceiveProps",value:function(e){this.handleAuthChange(this.props.auth,e.auth)}},{key:"render",value:function(){return m.default.createElement(P.default,{user:this.props.auth.user})}}]),t}(h.Component);A.propTypes={api:y.wrappedApiShape.isRequired,auth:v.authPropType},t.default=(0,b.connect)((0,M.compose)(T.default,C.authStateToProps))((0,y.injectApi)(A))},1509:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(i),l=n(1),u=o(l),r=n(2),s=o(r),d=n(7),c=o(d),p=n(6),f=o(p),h=n(0),m=o(h),y=n(15),v=n(490),b=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.addTabVisibilityListeners()}},{key:"componentWillUnmount",value:function(){this.removeTabVisibilityListeners()}},{key:"canUseTabListener",value:function(){return"undefined"!=typeof document&&("undefined"!=typeof document.addEventListener&&"undefined"!=typeof document[this.hiddenProperty])}},{key:"addTabVisibilityListeners",value:function(){"undefined"!=typeof document.hidden?(this.hiddenProperty="hidden",this.eventName="visibilitychange"):"undefined"!=typeof document.mozHidden?(this.hiddenProperty="mozHidden",this.eventName="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(this.hiddenProperty="msHidden",this.eventName="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.eventName="webkitvisibilitychange"),this.canUseTabListener()&&document.addEventListener(this.eventName,this.handleChange,!1)}},{key:"removeTabVisibilityListeners",value:function(){this.canUseTabListener()&&document.removeEventListener(this.eventName,this.handleChange,!1)}},{key:"handleChange",value:function(){return document[this.hiddenProperty]?this.props.dispatch((0,v.tabHidden)()):void this.props.dispatch((0,v.tabVisible)())}},{key:"render",value:function(){return null}}]),t}(m.default.Component);b.propTypes={dispatch:m.default.PropTypes.func},t.default=(0,y.connect)()(b)},1533:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return{borderTopLeftRadius:e,borderTopRightRadius:e,borderBottomRightRadius:e,borderBottomLeftRadius:parseFloat(e)-1e-5+"px"}}function a(e){var t=e.target,n=e.circle,o=e.disableBackground,a=e.dismiss,l=e.onTargetClick;if(!t)return null;var u=t.getBoundingClientRect(),r=u.top,s=u.left,d=u.width,c=u.height,p=(0,A.default)({cursor:"pointer",position:"fixed",top:r,left:s,width:d,height:c},i(t.style.borderRadius));o||(p.boxShadow="0 0 0 9999px rgba(0, 0, 0, 0.5)"),"number"==typeof n&&(p.width+=n,p.height+=n,p.top-=n/2,p.left-=n/2),n&&(0,E.default)(p,i(Math.max(p.width,p.height)));var f=!!o;setTimeout(function(){f=!0},U);var h=function(){f&&a()},m=function(e){a(),l(),e.preventDefault(),e.stopPropagation()};return R.default.createElement("div",{className:"GlobalTooltip-CalloutOverlay",style:{position:"fixed",width:"100%",height:"100%",background:"transparent"},onClick:h},R.default.createElement("div",{className:"GlobalTooltip-CalloutTarget",style:p,onClick:m}))}function l(e){(0,C.default)(e).forEach(function(t){var n=Math.round(e[t]);isNaN(n)||(e[t]=n)})}function u(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function r(e,t,n,o,i){var a={position:"absolute"},u={position:"absolute"};switch(i){case"left":a.top=e.top+e.height/2-n/2,a.left=e.left-t-o,u.top=e.top+e.height/2-V,u.left=e.left-o-V;break;case"right":a.top=e.top+e.height/2-n/2,a.left=e.left+e.width+o,u.top=e.top+e.height/2-V,u.left=e.left+e.width+o-V;break;case"top":a.top=e.top-n-o,a.left=e.left+e.width/2-t/2,u.top=e.top-o-V,u.left=e.left+e.width/2-V;break;case"topright":a.top=e.top-n-o,a.left=e.right-t,u.top=e.top-o-V,u.left=e.left+e.width/2-V;break;case"bottomright":a.top=e.top+e.height+o,a.left=e.right-t,u.top=e.top+e.height+o-V,u.left=e.left+e.width/2-V;break;case"bottom":default:a.top=e.top+e.height+o,a.left=e.left+e.width/2-t/2,u.top=e.top+e.height+o-V,u.left=e.left+e.width/2-V}return l(a),l(u),{tooltipPosition:a,arrowPosition:u}}function s(e){var t=W(e,G.top);return e===G.right||e===G.left?"GlobalTooltip--"+e:t?"GlobalTooltip--top":"GlobalTooltip--bottom"}Object.defineProperty(t,"__esModule",{value:!0}),t.CALLOUT_DISMISS_WAIT=void 0;var d=n(22),c=o(d),p=n(5),f=o(p),h=n(1),m=o(h),y=n(2),v=o(y),b=n(7),g=o(b),P=n(6),_=o(P),T=n(11),C=o(T),k=n(70),E=o(k),M=n(4),A=o(M);t.CalloutOverlay=a;var w=n(0),R=o(w),S=n(99),H=o(S),O=n(466),N=o(O),L=n(78),B=n(1599),D=n(12),x=n(124),j=o(x),I=new D.FileDebugger("GlobalTooltip",!0),U=t.CALLOUT_DISMISS_WAIT=1e3;a.defaultProps={onTargetClick:function(){return I.warn("onTargetClick not provided")}},a.propTypes={circle:R.default.PropTypes.bool,disableBackground:R.default.PropTypes.bool,target:R.default.PropTypes.any,dismiss:R.default.PropTypes.func,onTargetClick:R.default.PropTypes.func};var V=6,G=(0,j.default)({top:!0,right:!0,bottom:!0,left:!0}),W=function(e,t){return!!~e.indexOf(t)},q=function(e){function t(e){(0,m.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return n.state={position:"bottom",tooltipPosition:{position:"absolute",top:0,left:0},arrowPosition:{position:"absolute",top:0,left:0}},n.tooltipRef=null,n.cone=null,n.targetBox=null,n.tooltipBox=null,n.calculateStyles=n.calculateStyles.bind(n),n.handleClick=n.handleClick.bind(n),n.handleMouseMove=(0,N.default)(n.handleMouseMove.bind(n),50),n.dismiss=n.dismiss.bind(n),n}return(0,_.default)(t,e),(0,v.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.globalTooltip.visible!==this.props.globalTooltip.visible||e.globalTooltip.target!==this.props.globalTooltip.target||e.globalTooltip.position!==this.props.globalTooltip.position||t.tooltipPosition.top!==this.state.tooltipPosition.top||t.tooltipPosition.left!==this.state.tooltipPosition.left||t.arrowPosition.top!==this.state.arrowPosition.top||t.arrowPosition.left!==this.state.arrowPosition.left||e.globalTooltip.componentProps!==this.props.globalTooltip.componentProps}},{key:"handleMouseMove",value:function(e){var t=this.props.globalTooltip,n=t.isAnchored,o=t.mouseLeaveDismiss,i=t.visible;if(o&&i&&this.targetBox&&this.tooltipBox&&this.cone){var a={x:e.clientX,y:e.clientY};(0,B.inPolygon)(a,this.targetBox)||(0,B.inPolygon)(a,this.tooltipBox)||(0,B.inPolygon)(a,this.cone)||n||this.dismiss()}}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick,!0),window.addEventListener("scroll",this.calculateStyles,!0),window.addEventListener("resize",this.calculateStyles,!0),window.addEventListener("mousemove",this.handleMouseMove,!0),this.calculateStyles()}},{key:"componentDidUpdate",value:function(){this.calculateStyles(),this.maybeUpdateMouseRegions()}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&(window.removeEventListener("click",this.handleClick,!0),window.removeEventListener("scroll",this.calculateStyles,!0),window.removeEventListener("resize",this.calculateStyles,!0),window.removeEventListener("mousemove",this.handleMouseMove,!0))}},{key:"getTooltipBoundingBox",value:function(){var e=H.default.findDOMNode(this.tooltipRef);return e.getBoundingClientRect()}},{key:"calculateStyles",value:function(){var e=this.props,t=e.globalTooltip,n=e.spacing,o=t.target,i=t.position;if(o){var a=o.getBoundingClientRect(),l=this.tooltipRef,u=l.offsetWidth,s=l.offsetHeight,d=r.bind(null,a,u,s,n),c=d(i),p=this.getTooltipBoundingBox(),f=p.width,h=p.height,m=window.innerHeight-h,y=window.innerWidth-f;switch(i){case"left":c.tooltipPosition.left<0&&(i="right");break;case"right":c.tooltipPosition.left>y&&(i="left");break;case"top":c.tooltipPosition.top<0&&(i="bottom");break;case"topright":c.tooltipPosition.top<0&&(i="bottomright");break;case"bottom":default:c.tooltipPosition.top>m&&(i="top")}switch(c=d(i),i){case"left":case"right":c.tooltipPosition.top<0&&(c.tooltipPosition.top=0),c.tooltipPosition.top>m&&(c.tooltipPosition.top=m);break;case"top":case"bottom":default:c.tooltipPosition.left<0&&(c.tooltipPosition.left=0),c.tooltipPosition.left>y&&(c.tooltipPosition.left=y)}var v=this.tooltipRef.firstChild,b=window.getComputedStyle(v).backgroundColor;c.arrowPosition.backgroundColor=b||v.style.backgroundColor,this.setState((0,A.default)({position:i},c))}}},{key:"maybeUpdateMouseRegions",value:function(){var e=this.props.globalTooltip,t=e.visible,n=e.mouseLeaveDismiss,o=e.target;if(n&&t){var i=H.default.findDOMNode(this.tooltipRef);this.cone=(0,B.getCone)(o,i),this.targetBox=(0,B.elemToPolygon)(o),this.tooltipBox=(0,B.elemToPolygon)(i)}}},{key:"handleClick",value:function(e){var t=this.props.globalTooltip,n=t.isAnchored,o=t.shouldBubble,i=t.disableTargetClick,a=t.target,l=t.visible,r=t.callout;if(l&&!n&&!r){var s=u(e.target,a),d=!u(e.target,this.tooltipRef);return!i&&d&&this.dismiss(),!o&&s?(e.preventDefault(),e.stopPropagation(),!1):void 0}}},{key:"dismiss",value:function(){var e=this.props.globalTooltip.callout;this.props.dispatch((0,L.hideTooltip)()),e&&"object"===("undefined"==typeof e?"undefined":(0,c.default)(e))&&e.onDismiss&&e.onDismiss()}},{key:"renderTooltip",value:function(){var e=this.props.globalTooltip.component,t=this.props.globalTooltip.componentProps;return e?R.default.createElement(e,(0,A.default)({},t,{dismiss:this.dismiss})):null}},{key:"possiblyRenderCallout",value:function(){var e=this.props.globalTooltip,t=e.callout,n=e.target,o=e.visible;if(!t||!n||!o)return null;var i={};return"object"===("undefined"==typeof t?"undefined":(0,c.default)(t))&&(i=(0,A.default)({},t)),R.default.createElement(a,{circle:i.circle,disableBackground:i.disableBackground,target:n,dismiss:this.dismiss,onTargetClick:i.onTargetClick})}},{key:"render",value:function(){var e=this,t=this.props.globalTooltip,n=t.animate,o=t.visible,i=t.zIndex,a=t.disableArrow,l=this.state,u=l.position,r=l.arrowPosition,d=l.tooltipPosition,c=["GlobalTooltip"];return o&&c.push("GlobalTooltip--isVisible"),o||c.push("GlobalTooltip--isNotVisible"),n&&c.push("GlobalTooltip--animate"),c.push(s(u)),R.default.createElement("div",{id:"GlobalTooltip",className:c.join(" "),style:{zIndex:i}},this.possiblyRenderCallout(),R.default.createElement("div",{ref:function(t){e.tooltipRef=t},className:"GlobalTooltip-content",style:d},this.renderTooltip()),a||R.default.createElement("div",{className:"GlobalTooltip-arrow-container",style:(0,A.default)({},r,{backgroundColor:"transparent"})},R.default.createElement("div",{className:"GlobalTooltip-arrow",style:{backgroundColor:r.backgroundColor}})))}}]),t}(R.default.Component);t.default=q,q.defaultProps={spacing:1.5*V},q.propTypes={spacing:R.default.PropTypes.number,dispatch:R.default.PropTypes.func.isRequired,globalTooltip:R.default.PropTypes.object.isRequired}},1599:function(e,t,n){"use strict";function o(e,t){var n=t.y-e.y,o=t.x-e.x;return n<=0?o<0?0:1:o<0?3:2}function i(e,t){var n=Math.abs(e-t);return Math.min(n,4-n)}function a(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),l=[];return s.forEach(function(e,t){var u={x:n[e[1]],y:n[e[0]]},r={x:a[e[1]],y:a[e[0]]},s=o(u,r),d=i(t,s);1===d&&l.push({corner:e,cornerQuadrant:t})}),l}function l(e,t){var n=a(e,t),o=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(!n.length)return null;var l=n[0].corner,u=n[1].corner;return[{x:o[l[1]],y:o[l[0]]},{x:o[u[1]],y:o[u[0]]},{x:i[u[1]],y:i[u[0]]},{x:i[l[1]],y:i[l[0]]}]}function u(e){if(e&&e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=t.top,o=t.left,i=t.bottom,a=t.right;return[{x:o,y:n},{x:a,y:n},{x:a,y:i},{x:o,y:i}]}return[]}function r(e,t){for(var n=!1,o=t[0],i=o.x,a=o.x,l=o.y,u=o.y,r=1;r<t.length;r++){var s=t[r],d=s.x,c=s.y;i=Math.floor(Math.min(d,i)),a=Math.ceil(Math.max(d,a)),l=Math.floor(Math.min(c,l)),u=Math.ceil(Math.max(c,u))}if(e.x<i||e.x>a||e.y<l||e.y>u)return!1;for(var p=0,f=t.length-1;p<t.length;f=p++)t[p].y>e.y!=t[f].y>e.y&&e.x<(t[f].x-t[p].x)*(e.y-t[p].y)/(t[f].y-t[p].y)+t[p].x&&(n=!n);return n}Object.defineProperty(t,"__esModule",{value:!0});var s=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]];t.getCone=l,t.elemToPolygon=u,t.inPolygon=r}});